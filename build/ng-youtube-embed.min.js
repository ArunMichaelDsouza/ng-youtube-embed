!function(){"use strict";function a(){var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];a.src=e,b.parentNode.insertBefore(a,b)}function b(){for(var a=e,b=document.getElementsByTagName("script"),c=b.length;c--;)if(b[c].src==a)return!0;return!1}var c=angular.module("ngYoutubeEmbed",[]),d=[],e="https://www.youtube.com/iframe_api",f=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,g=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;c.service("ngYoutubeEmbedService",["$window","$rootScope",function(a,b){this.setReadyState=function(){a.onYouTubeIframeAPIReady=function(){console.log(d),d.forEach(function(a){b.$emit("youtubeIframeEmbedApiLoaded",a)})}};var c=[];b.$on("addNewPlayer",function(a,b){c[b.id]=b.player}),this.getPlayerById=function(a){return c[a]},this.getVideoIdByUrl=function(a){a.includes("gaming")&&(f=/^(?:https?:\/\/)?(?:www\.)?(?:gaming.youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/);var b=(a.match(g),a.match(f));return null!=b?b[1]:a}}]),c.directive("ngYoutubeEmbed",["$sce","ngYoutubeEmbedService","$rootScope",function(c,e,f){return{restrict:"E",template:'<div ng-bind-html="youtubeEmbedFrame"></div>',scope:{url:"=",onready:"=",onstatechange:"=",autoplay:"@",autohide:"@",ccloadpolicy:"@",color:"@",controls:"@",disablekb:"@",end:"@end",fs:"@",hl:"@",ivloadpolicy:"@",playlist:"@",playsinline:"@",rel:"@",showinfo:"@",start:"@",theme:"@",width:"@",height:"@",enablejsapi:"@",vid:"@vid"},link:function(g,h,i){h[0].removeAttribute("id");var j={autoplay:"true"==g.autoplay?1:0,autohide:"true"==g.autohide?1:0,ccloadpolicy:"true"==g.ccloadpolicy?1:0,color:"white"==g.color?"white":"red",controls:"false"==g.controls?0:1,disablekb:"false"==g.disablekb?0:1,end:g.end?g.end:"",fs:"false"==g.fs?0:1,hl:g.hl?g.hl:"",IvLoadPolicy:"false"==g.ivloadpolicy?0:1,playlist:g.playlistArray?g.playlistArray:"",playsinline:"true"==g.playsinline?1:0,rel:"false"==g.rel?0:1,ShowInfo:"false"==g.showinfo?0:1,start:g.start?g.start:"",theme:g.theme?g.theme:"",enablejsapi:"true"===g.enablejsapi?1:0};if(console.log(j),j.enablejsapi&&!b()&&(a(),e.setReadyState()),j.enablejsapi&&f.$on("youtubeIframeEmbedApiLoaded",function(a,b){if(b===g.vid){var c=new YT.Player(b,{events:{onReady:g.onready,onStateChange:g.onstatechange}});f.$emit("addNewPlayer",{player:c,id:b})}}),void 0!=g.url){if(g.playlistArray=[],void 0!=g.playlist)for(var k=g.playlist.split(","),l=0;l<k.length;l++)g.playlistArray.push(e.getVideoIdByUrl(k[l]));var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;m="true"==g.autoplay?1:0,n="true"==g.autohide?1:0,o="true"==g.ccloadpolicy?1:0,p="white"==g.color?"white":"red",q="false"==g.controls?0:1,r="false"==g.disablekb?0:1,s=g.end?g.end:"",t="false"==g.fs?0:1,u=g.hl?g.hl:"",v="false"==g.ivloadpolicy?0:1,w=g.playlistArray,x="true"==g.playsinline?1:0,y="false"==g.rel?0:1,z="false"==g.showinfo?0:1,A=g.start?g.start:"",B=g.theme?g.theme:"",E=g.gaming?g.gaming:"",F="true"===g.enablejsapi?1:0;var G=g.vid;G&&F?d.push(G):null,C=void 0!=g.width?g.width:"500px",D=void 0!=g.height?g.height:"350px",g.$watch("url",function(a){if(a){var b,d=e.getVideoIdByUrl(a);b=E?"<iframe width="+C+" height="+D+' src="https://gaming.youtube.com/embed/'+d+"?autoplay="+m+"&autohide="+n+"&cc_load_policy="+o+"&color="+p+"&controls="+q+"&disablekb="+r+"&end="+s+"&fs="+t+"&hl="+u+"&playlist="+w+"&playsinline="+x+"&rel="+y+"&showinfo="+z+"&start="+A+"&theme="+B+'" frameborder="0" allowfullscreen></iframe>':"<iframe id="+G+" width="+C+" height="+D+' src="https://www.youtube.com/embed/'+d+"?enablejsapi="+F+"&autoplay="+m+"&autohide="+n+"&cc_load_policy="+o+"&color="+p+"&controls="+q+"&disablekb="+r+"&end="+s+"&fs="+t+"&hl="+u+"&playlist="+w+"&playsinline="+x+"&rel="+y+"&showinfo="+z+"&start="+A+"&theme="+B+'" frameborder="0" allowfullscreen></iframe>',g.youtubeEmbedFrame=c.trustAsHtml(b)}})}else console.warn("")}}}])}();