!function(){"use strict";function a(){var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];a.src=e,b.parentNode.insertBefore(a,b)}function b(){for(var a=e,b=document.getElementsByTagName("script"),c=b.length;c--;)if(b[c].src==a)return!0;return!1}var c=angular.module("ngYoutubeEmbed",[]),d=[],e="https://www.youtube.com/iframe_api",f=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,g=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;c.service("ngYoutubeEmbedService",["$window","$rootScope",function(a,b){this.setReadyState=function(){a.onYouTubeIframeAPIReady=function(){d.forEach(function(a){b.$emit("youtubeIframeEmbedApiLoaded",a)})}};var c=[];b.$on("addNewPlayer",function(a,b){c[b.id]=b.player}),this.getPlayerById=function(a){return c[a]},this.getVideoIdByUrl=function(a){a.includes("gaming")&&(f=/^(?:https?:\/\/)?(?:www\.)?(?:gaming.youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/);var b=(a.match(g),a.match(f));return null!=b?b[1]:a}}]),c.directive("ngYoutubeEmbed",["$sce","ngYoutubeEmbedService","$rootScope",function(c,e,f){return{restrict:"E",template:'<div ng-bind-html="youtubeEmbedFrame"></div>',scope:{video:"=",onready:"=",onstatechange:"=",onplaybackqualitychange:"=",onplaybackratechange:"=",onerror:"=",onapichange:"=",autoplay:"@",ccloadpolicy:"@",color:"@",controls:"@",disablekb:"@",end:"@end",fs:"@",hl:"@",ivloadpolicy:"@",playlist:"@",playsinline:"@",rel:"@",showinfo:"@",start:"@",width:"@",height:"@",enablejsapi:"@",videoid:"@",modestbranding:"@",loop:"@"},link:function(g,h,i){h[0].removeAttribute("id");var j={width:g.width?g.width:500,height:g.height?g.height:350,autoplay:"true"==g.autoplay?1:0,ccloadpolicy:"true"==g.ccloadpolicy?1:0,color:"white"==g.color?"white":"red",controls:"false"==g.controls?0:1,disablekb:"false"==g.disablekb?0:1,end:g.end?g.end:"",fs:"false"==g.fs?0:1,hl:g.hl?g.hl:"",ivloadpolicy:"false"==g.ivloadpolicy?0:1,playlist:g.playlist?g.playlist:"",playsinline:"true"==g.playsinline?1:0,rel:"false"==g.rel?0:1,showinfo:"false"==g.showinfo?0:1,start:g.start?g.start:"",enablejsapi:"true"===g.enablejsapi?1:0,videoid:g.videoid?g.videoid:"",modestbranding:"true"===g.modestbranding?1:0,loop:"true"===g.loop?1:""};if(j.enablejsapi&&!b()&&(a(),e.setReadyState()),j.enablejsapi&&f.$on("youtubeIframeEmbedApiLoaded",function(a,b){if(b===j.videoid){var c=new YT.Player(b,{events:{onReady:g.onready,onStateChange:g.onstatechange,onPlaybackQualityChange:g.onplaybackqualitychange,onPlaybackRateChange:g.onplaybackratechange,onError:g.onerror,onApiChange:g.onapichange}});f.$emit("addNewPlayer",{player:c,id:b})}}),g.video){if(g.playlistArray=[],j.playlist)for(var k=g.playlist.split(","),l=0;l<k.length;l++)g.playlistArray.push(e.getVideoIdByUrl(k[l]));j.videoid&&j.enablejsapi?d.push(j.videoid):null,g.$watch("video",function(a){if(a){var b,d=e.getVideoIdByUrl(a);b='<iframe id="'+j.videoid+'" width="'+j.width+'" height="'+j.height+'" src="https://www.youtube.com/embed/'+d+"?enablejsapi="+j.enablejsapi+"&autoplay="+j.autoplay+"&cc_load_policy="+j.ccloadpolicy+"&color="+j.color+"&controls="+j.controls+"&disablekb="+j.disablekb+"&end="+j.end+"&fs="+j.fs+"&hl="+j.hl+"&ivloadpolicy="+j.ivloadpolicy+"&playlist="+g.playlistArray+"&playsinline="+j.playsinline+"&rel="+j.rel+"&showinfo="+j.showinfo+"&start="+j.start+"&modestbranding="+j.modestbranding+"&loop="+j.loop+'" frameborder="0" allowfullscreen></iframe>',g.youtubeEmbedFrame=c.trustAsHtml(b)}})}else console.warn("Please enter a valid youtube video url or id to render the iframe embed player")}}}])}();