/*
    ng-youtube-embed v0.1.0
    Copyright (c) 2015 Arun Michael Dsouza (amdsouza92@gmail.com)
    Licence: MIT
    Demo on CodePen - http://codepen.io/amdsouza92/pen/yNxyJV
*/
"use strict";angular.module("ngYoutubeEmbed",[]).directive("ngYoutubeEmbed",[function(){return{restrict:"E",template:'<div ng-bind-html="youtubeEmbedFrame"></div>',scope:{url:"=",autoplay:"@autoplay",autohide:"@autohide",ccloadpolicy:"@ccloadpolicy",color:"@color",controls:"@controls",disablekb:"@disablekb",end:"@end",fs:"@fs",hl:"@hl",ivloadpolicy:"@ivloadpolicy",playlist:"@playlist",playsinline:"@playsinline",rel:"@rel",showinfo:"@showinfo",start:"@start",theme:"@theme"},controller:["$scope","$sce",function(l,e){function t(l){var e=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,a=(l.match(t),l.match(e));if(null!=a){var o=a[1];return o}}var a=l.url;if(l.playlistArray=[],void 0!=l.playlist)for(var o=l.playlist.split(","),i=0;i<o.length;i++)l.playlistArray.push(t(o[i]));var r,s,u,c,n,d,p,y,h,b,f,m,v,w,g,E;r="true"==l.autoplay?1:0,s="true"==l.autohide?1:0,u="true"==l.ccloadpolicy?1:0,c="white"==l.color?"white":"red",n="false"==l.controls?0:1,d="false"==l.disablekb?0:1,p=l.end,y="false"==l.fs?0:1,h=l.hl,b="false"==l.ivloadpolicy?0:1,f=l.playlistArray,m="true"==l.playsinline?1:0,v="false"==l.rel?0:1,w="false"==l.showinfo?0:1,g=l.start,E=l.theme;var k=t(a),A='<iframe width="500px" height="350px" src="https://www.youtube.com/embed/'+k+"?autoplay="+r+"&autohide="+s+"&cc_load_policy="+u+"&color="+c+"&controls="+n+"&disablekb="+d+"&end="+p+"&fs="+y+"&hl="+h+"&playlist="+f+"&playsinline="+m+"&rel="+v+"&showinfo="+w+"&start="+g+"&theme="+E+'" frameborder="0" allowfullscreen></iframe>';l.youtubeEmbedFrame=e.trustAsHtml(A)}]}}]);