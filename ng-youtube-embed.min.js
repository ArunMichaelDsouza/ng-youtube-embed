/*
    ng-youtube-embed v0.2.2
    Copyright (c) 2015 Arun Michael Dsouza (amdsouza92@gmail.com)
    Licence: MIT
    Demo on CodePen - http://codepen.io/amdsouza92/pen/yNxyJV
*/
"use strict";angular.module("ngYoutubeEmbed",[]).directive("ngYoutubeEmbed",[function(){return{restrict:"E",template:'<div ng-bind-html="youtubeEmbedFrame"></div>',scope:{url:"=",autoplay:"@autoplay",autohide:"@autohide",ccloadpolicy:"@ccloadpolicy",color:"@color",controls:"@controls",disablekb:"@disablekb",end:"@end",fs:"@fs",hl:"@hl",ivloadpolicy:"@ivloadpolicy",playlist:"@playlist",playsinline:"@playsinline",rel:"@rel",showinfo:"@showinfo",start:"@start",theme:"@theme",width:"@width",height:"@height"},controller:["$scope","$sce",function(e,l){function t(e){var l=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,o=(e.match(t),e.match(l));if(null!=o){var i=o[1];return i}}var o=e.url;if(void 0!=o){if(e.playlistArray=[],void 0!=e.playlist)for(var i=e.playlist.split(","),a=0;a<i.length;a++)e.playlistArray.push(t(i[a]));var r,s,h,u,c,d,n,p,y,b,f,m,w,v,g,E,k,A;r="true"==e.autoplay?1:0,s="true"==e.autohide?1:0,h="true"==e.ccloadpolicy?1:0,u="white"==e.color?"white":"red",c="false"==e.controls?0:1,d="false"==e.disablekb?0:1,n=e.end,p="false"==e.fs?0:1,y=e.hl,b="false"==e.ivloadpolicy?0:1,f=e.playlistArray,m="true"==e.playsinline?1:0,w="false"==e.rel?0:1,v="false"==e.showinfo?0:1,g=e.start,E=e.theme,k=void 0!=e.width?e.width:"500px",A=void 0!=e.height?e.height:"350px";var $=t(o),x="<iframe width="+k+" height="+A+' src="https://www.youtube.com/embed/'+$+"?autoplay="+r+"&autohide="+s+"&cc_load_policy="+h+"&color="+u+"&controls="+c+"&disablekb="+d+"&end="+n+"&fs="+p+"&hl="+y+"&playlist="+f+"&playsinline="+m+"&rel="+w+"&showinfo="+v+"&start="+g+"&theme="+E+'" frameborder="0" allowfullscreen></iframe>';e.youtubeEmbedFrame=l.trustAsHtml(x)}}]}}]);