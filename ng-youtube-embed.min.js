/*
    ng-youtube-embed v0.1.0
    Copyright (c) 2015 Arun Michael Dsouza (amdsouza92@gmail.com)
    Licence: MIT
*/
"use strict";angular.module("ngYoutubeEmbed",[]).directive("ngYoutubeEmbed",[function(){return{restrict:"E",template:'<div ng-bind-html="youtubeEmbedFrame"></div>',scope:{url:"=",autoplay:"@autoplay",autohide:"@autohide",ccloadpolicy:"@ccloadpolicy",color:"@color",controls:"@controls",disablekb:"@disablekb",end:"@end",fs:"@fs",hl:"@hl",ivloadpolicy:"@ivloadpolicy",playlist:"@playlist",playsinline:"@playsinline",rel:"@rel",showinfo:"@showinfo",start:"@start",theme:"@theme"},controller:["$scope","$sce",function(l,e){function t(l){var e=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,o=(l.match(t),l.match(e));if(null!=o){var a=o[1];return a}}var o=l.url;if(l.playlistArray=[],void 0!=l.playlist)for(var a=l.playlist.split(","),r=0;r<a.length;r++)l.playlistArray.push(t(a[r]));var i,s,u,c,n,d,p,y,h,b,m,f,v,w,g,E;i="true"==l.autoplay?1:0,s="true"==l.autohide?1:0,u="true"==l.ccloadpolicy?1:0,c="white"==l.color?"white":"red",n="false"==l.controls?0:1,d="true"==l.disablekb?1:0,p=l.end,y="false"==l.fs?0:1,h=l.hl,b="true"==l.ivloadpolicy?1:0,m=l.playlistArray,f="true"==l.playsinline?1:0,v="false"==l.rel?0:1,w="false"==l.showinfo?0:1,g=l.start,E=l.theme;var k=t(o),A='<iframe width="500px" height="350px" src="https://www.youtube.com/embed/'+k+"?autoplay="+i+"&autohide="+s+"&cc_load_policy="+u+"&color="+c+"&controls="+n+"&disablekb="+d+"&end="+p+"&fs="+y+"&hl="+h+"&playlist="+m+"&playsinline="+f+"&rel="+v+"&showinfo="+w+"&start="+g+"&theme="+E+'" frameborder="0" allowfullscreen></iframe>';l.youtubeEmbedFrame=e.trustAsHtml(A)}]}}]);